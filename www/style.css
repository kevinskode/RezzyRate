:root{
  /* Logo-true palette */
  --ink:#0a0f18;
  --bg1:#6aaeb0;          /* teal from logo bg */
  --bg2:#ffd34d;          /* lemon yellow */
  --bg3:#f26e8c;          /* pop pink */
  --panel:#0d1422;        /* card bg */
  --text:#f7f9ff;
  --muted:#aeb7c6;
  --border:rgba(168,179,197,.18);

  /* Accents for UI */
  --accent:#f26e8c;       /* pink */
  --accent-2:#ffd34d;     /* yellow */
  --accent-3:#21c7b7;     /* seafoam/teal */

  --ok:#10b981; --warn:#f59e0b; --bad:#ef4444;
  --radius:16px; --shadow:0 6px 24px rgba(2,6,23,.35);

  /* Type scale */
  --step--1: clamp(11.5px, .74vw, 12.5px);
  --step-0:  clamp(13px, .9vw, 14px);
  --step-1:  clamp(14.5px, 1.05vw, 15.5px);
  --step-2:  clamp(16px, 1.25vw, 18px);
  --step-3:  clamp(18px, 1.6vw, 20px);
  --step-4:  clamp(22px, 2.2vw, 28px);
  --step-5:  clamp(28px, 3vw, 36px);
  --step-6:  clamp(36px, 4vw, 48px);

  /* iOS tap target size */
  --tap: 44px;
}

/* Global */
*{ box-sizing:border-box; }
html,body{ height:100%; min-height:100%; -webkit-tap-highlight-color:transparent; -webkit-touch-callout:none; touch-action:manipulation; }
img{ max-width:100%; height:auto; }

/* Base dark background */
body{
  margin:0;
  color:var(--text);
  font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  -webkit-font-smoothing:antialiased;
  -webkit-text-size-adjust:100%;
  font-size:var(--step-0);
  line-height:1.6;
  letter-spacing:.01em;
  background: linear-gradient(135deg,#0b1326 0%,#0b1326 45%,#0c152c 100%);
  background-attachment:fixed;
  overflow-x:hidden;
  position:relative;
}

/* Corner overlays */
body::before{
  content:"";
  position:fixed; inset:0;
  z-index:-1; pointer-events:none;
  background:
    radial-gradient(42vmax 42vmax at 0% 0%, rgba(89,236,255,.55) 0%, transparent 70%),
    radial-gradient(42vmax 42vmax at 100% 0%, rgba(255,211,77,.65) 0%, transparent 70%);
  background-repeat:no-repeat;
}

/* Container + safe areas */
.container{ max-width:1100px; margin:0 auto; padding:24px clamp(16px,3vw,24px); }
@supports(padding:max(0px)){
  .container{
    padding-left:max(16px, env(safe-area-inset-left));
    padding-right:max(16px, env(safe-area-inset-right));
  }
  body{
    padding-left:max(0px, env(safe-area-inset-left));
    padding-right:max(0px, env(safe-area-inset-right));
    padding-bottom:max(0px, env(safe-area-inset-bottom));
  }
}

/* ---------- Topbar / Brand ---------- */
.pinned-logo{
  position:absolute;
  top:4%;
  left:3%;
  z-index:1000;
}
.pinned-logo .logo{
  width:120px; height:auto;
  border-radius:12px;
  box-shadow:0 8px 20px rgba(0,0,0,.25);
}
.topbar{
  padding-left:120px;
  margin-top:-1%;
  padding-bottom:1%;
}
.brand{
  display:flex; align-items:center; gap:14px; justify-content:flex-start;
}
.logo{
  width:clamp(84px,12vw,140px); height:auto; display:block;
  border-radius:18px; background:transparent; border:0;
  box-shadow:0 10px 28px rgba(0,0,0,.25);
}
.badges{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; justify-content:flex-end; }
.badge{
  font-size:var(--step--1); padding:6px 10px; border-radius:9999px;
  background:rgba(255,255,255,.04); border:1px solid #ffffff; color:#ffffff;
}

/* ---------- Layout / Cards ---------- */
.layout{ display:grid; grid-template-columns:1fr; gap:18px; }
@media (min-width:980px){ .layout{ grid-template-columns:1fr 1fr; } }

.card{
  background:rgba(13,19,36,.86);
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:var(--shadow);
  backdrop-filter:saturate(1.1) blur(2px);
}

.card-title{
  margin:2px 0 8px;
  font-size:var(--step-3); font-weight:900; letter-spacing:.005em; line-height:1.2;
  position:relative;
}
.card-title::after{
  content:""; display:block; height:2px; width:min(200px,28%);
  margin-top:8px; border-radius:2px;
  background:linear-gradient(90deg,var(--accent-3),var(--accent-2),var(--accent));
  opacity:.9;
}
.card-sub{ font-size:var(--step-0); color:var(--muted); margin:0 0 12px; line-height:1.65; text-wrap:pretty; }

/* Labels */
label{
  font-size:var(--step--1); color:#c7f9ff; opacity:.9;
  font-weight:800; letter-spacing:.12em; text-transform:uppercase;
  display:block; margin:10px 0 6px;
}

/* ---------- Inputs ---------- */
textarea,input{
  width:100%; background:#0b1220; color:var(--text);
  border:1px solid var(--border); border-radius:14px; padding:12px 14px;
  transition:box-shadow .2s,border-color .2s; font-size:var(--step-0); line-height:1.5;
}
textarea:focus,input:focus{ outline:none; border-color:var(--accent-3); box-shadow:0 0 0 3px rgba(33,199,183,.22); }
::placeholder{ color:#7f8aa6; }

/* ---------- Buttons ---------- */
button{
  padding:10px 14px; border-radius:12px; border:1px solid transparent; background:rgba(255,255,255,.03);
  color:var(--text); cursor:pointer; font-weight:900; letter-spacing:.01em;
  transition:transform .1s ease, box-shadow .2s, border-color .2s, filter .15s;
  min-height:44px; font-size:var(--step-0);
}
button:active{ transform:translateY(1px); }

.btn-primary{
  background:linear-gradient(180deg,var(--accent-2),var(--accent));
  border-color:rgba(255,255,255,.12);
  color:#0b1020;
  box-shadow:0 10px 26px rgba(242,110,140,.18);
}
.btn-primary:hover{ filter:brightness(1.03); }
.btn-secondary{ background:rgba(255,255,255,.05); border-color:var(--border); color:var(--text); }
.btn-compact{ padding:8px 12px; border-radius:10px; }

/* Pricing buttons */
#btnBuy1Top,#btnBuy10Top,#btnBuy20Top,
#btnBuy1Modal,#btnBuy10Modal,#btnBuy20Modal{
  background:linear-gradient(180deg,#3bff7a,#b6ff66);
  border-color:transparent; color:#07140e;
  box-shadow:0 8px 18px rgba(25,255,0,.15), inset 0 -2px 0 rgba(0,0,0,.12);
}

/* ---------- Micro components ---------- */
.actions{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; }
.actions .spacer{ flex:1 1 auto; }
#fileLabel{ color:#94a3b8; }

.pill{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:9999px; font-size:var(--step--1);
  margin:2px; border:1px solid var(--border); color:var(--muted); white-space:nowrap;
}
.pill.good{ background:#0d2621; color:#86efac; border-color:rgba(52,211,153,.25); }
.pill.bad{  background:#2a1517; color:#fca5a5; border-color:rgba(251,113,133,.25); }
.pill.p-high{ background:rgba(37,99,235,.18);  border-color:rgba(59,130,246,.38);  color:#dbeafe; }
.pill.p-med{  background:rgba(99,102,241,.18); border-color:rgba(129,140,248,.34); color:#e0e7ff; }
.pill.p-low{  background:rgba(99,102,241,.12); border-color:rgba(129,140,248,.26); color:#c7d2fe; }

.progress,.bar{ height:8px; border-radius:9999px; background:#0b1220; border:1px solid var(--border); overflow:hidden; }
.bar-fill{ height:100%; width:0; background:linear-gradient(90deg,var(--accent-3),var(--accent-2),var(--accent)); }

/* Overlay / modal */
.overlay{
  position:fixed; inset:0; background:rgba(5,10,25,.65);
  display:none; align-items:center; justify-content:center; padding:16px;
}
.overlay.open{ display:flex; }
.card.modal{ max-width:560px; width:100%; max-height:min(88vh,600px); overflow:auto; -webkit-overflow-scrolling:touch; }

/* Lock page when modal is open */
body.modal-open{
  position:fixed; inset:0; width:100%; overflow:hidden; height:100dvh;
}

/* Results head + donut */
.results-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.score-block{ display:flex; align-items:center; gap:12px; }
.donut{ width:64px; height:64px; display:grid; place-items:center; position:relative; }
.donut .center{ position:absolute; font-weight:900; font-size:var(--step-2); color:var(--text); }
.rating{ font-size:var(--step--1); color:var(--muted); }
.kpi-grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin-top:10px; }
.kpi{ padding:10px; border:1px solid var(--border); border-radius:12px; }
.kpi b{ color:var(--text); }
.stack{ display:flex; height:10px; border-radius:9999px; overflow:hidden; border:1px solid var(--border); }
.stack > div{ height:100%; }
.stack .ok{  background:#10b98122; }
.stack .gap{ background:#ef444422; }
.metrics{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin-top:10px; }
.metric{
  padding:8px 10px; border:1px dashed var(--border); border-radius:10px;
  font-size:var(--step--1); color:var(--muted);
}
.metric b{ color:var(--text); }
.section-pills{ display:flex; flex-wrap:wrap; gap:6px; }

/* Tip button */
.tip .tip-btn{
  min-height:0; padding:0; width:22px; height:22px; aspect-ratio:1/1; border-radius:50%;
  border:1px solid var(--border);
  background:linear-gradient(180deg,#141b30,#0b1220);
  color:#ffd6e5; font-size:12px; font-weight:900;
  display:inline-grid; place-items:center; line-height:1; vertical-align:middle;
  cursor:help; appearance:none;
  box-shadow:0 1px 2px rgba(0,0,0,.35), inset 0 -1px 0 rgba(255,255,255,.03);
  transition:box-shadow .15s ease, transform .06s ease, border-color .15s ease;
}
.tip .tip-btn:hover{ box-shadow:0 2px 10px rgba(242,110,140,.28); }
.tip .tip-btn:active{ transform:translateY(1px); }
.tip .tip-btn:focus{ outline:none; border-color:var(--accent); box-shadow:0 0 0 3px rgba(242,110,140,.22); }
.tip-bubble{
  position:absolute; left:50%; bottom:calc(100% + 10px);
  transform:translateX(-50%) scale(.98);
  min-width:220px; max-width:320px;
  background:var(--panel); border:1px solid var(--border); border-radius:12px;
  padding:10px 12px; box-shadow:var(--shadow);
  font-size:var(--step--1); color:var(--text);
  opacity:0; pointer-events:none; transition:opacity .15s ease, transform .15s ease; z-index:60;
}
.tip:hover .tip-bubble,.tip:focus-within .tip-bubble{ opacity:1; transform:translateX(-50%) scale(1); }
.tip-bubble .arrow{
  position:absolute; left:50%; bottom:-6px; width:10px; height:10px;
  transform:translateX(-50%) rotate(45deg);
  background:var(--panel); border-left:1px solid var(--border); border-top:1px solid var(--border);
}

/* Upload row */
.upload-row{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; margin:6px 0 10px; }
.file-pill{
  display:inline-flex; align-items:center; gap:8px; padding:8px 10px;
  border:1px dashed var(--border); border-radius:12px; font-size:var(--step--1);
  background:rgba(255,255,255,.03); min-height:44px;
}
.file-pill input[type="file"]{ display:none; }
.file-btn{
  padding:8px 12px; border-radius:10px; border:1px solid var(--border);
  background:rgba(255,255,255,.04); font-size:var(--step--1);
}
.dropzone{
  flex:1 1 100px; border:1px dashed var(--border); border-radius:12px;
  padding:10px 20px; min-height:44px; display:flex; align-items:center; justify-content:center;
  font-size:var(--step--1); color:#94a3b8;
}
.dropzone.drag{ border-color:var(--accent-2); background:rgba(255,211,77,.10); color:#ffe9a3; }

/* Spinner */
.spinner{
  display:none; width:16px; height:16px; border-radius:50%;
  border:2px solid #ffe3ef; border-top-color:var(--accent);
  animation:spin 1s linear infinite;
}
.spinner.show{ display:inline-block; }
@keyframes spin{ to{ transform:rotate(360deg); } }

/* Fix list */
.list-tight{
  display:grid; grid-template-columns:1fr; gap:10px; margin:0; padding:0; counter-reset:fix;
}
@media (min-width:900px){ .list-tight{ grid-template-columns:1fr 1fr; } }
.list-tight li{
  list-style:none; position:relative; padding:14px 14px 12px 46px;
  border:1px solid var(--border); border-radius:16px; background:rgba(242,110,140,.08); box-shadow:var(--shadow);
}
.list-tight li::before{
  counter-increment:fix; content:counter(fix);
  position:absolute; left:12px; top:14px; width:22px; height:22px;
  border-radius:9999px; display:grid; place-items:center; font-weight:800; font-size:12px;
  color:var(--muted); background:rgba(255,255,255,.05); border:1px solid var(--border);
}
.fix-row{ display:flex; flex-direction:column; align-items:flex-start; gap:6px; margin-bottom:6px; }
.fix-title{ font-weight:850; font-size:var(--step-1); color:var(--text); margin:0; }
.fix-body{ color:var(--muted); font-size:var(--step-0); line-height:1.7; margin:0; }
.list-tight li .pill{ margin:0; }

/* Minor buttons */
#btnPick,#btnClear{ background:rgba(255,255,255,.08); border-color:#ffffff22; }
#btnPick:hover,#btnClear:hover{ filter:brightness(1.05); }

/* Status LED */
.statusled{
  width:12px; height:12px; border-radius:9999px; background:transparent;
  border:2px solid rgba(148,163,184,.55);
}
.statusled.scanning{ border-color:var(--accent); animation:pulse 1.2s infinite; box-shadow:0 0 0 3px rgba(242,110,140,.18); }
.statusled.done{ background:#10b981; border-color:#10b981; box-shadow:0 0 0 3px rgba(16,185,129,.26), 0 0 12px rgba(16,185,129,.35); }
.statusled.error{ background:#ef4444; border-color:#ef4444; box-shadow:0 0 0 3px rgba(239,68,68,.22), 0 0 12px rgba(239,68,68,.40); }
@keyframes pulse{
  0%{ transform:scale(1); }
  70%{ transform:scale(1.18); }
  100%{ transform:scale(1); }
}

/* ---------- Jobs area ---------- */
.jobs-wrap{ margin-top:16px; }
.jobs-toolbar{
  display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin:8px 0 14px;
}
.jobs-toolbar .seg{
  display:inline-flex; background:rgba(255,255,255,.05); border:1px solid var(--border);
  border-radius:9999px; overflow:hidden;
}
.jobs-toolbar .seg button{
  padding:8px 12px; border:0; background:transparent;
  font-size:var(--step--1); color:var(--muted); font-weight:800; letter-spacing:.02em;
}
.jobs-toolbar .seg button.active{ background:linear-gradient(180deg,var(--accent-2),var(--accent)); color:#0b1020; }

.jobs{ display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:14px; }
.job-card{
  position:relative; display:flex; flex-direction:column; min-height:260px;
  border-radius:16px; padding:14px; background:rgba(255,255,255,.04);
  border:1px solid var(--border); box-shadow:var(--shadow);
  transition:transform .15s ease, box-shadow .2s ease; overflow:hidden;
}
.job-card::before{
  content:""; position:absolute; inset:-1px; border-radius:16px; padding:1px;
  background:linear-gradient(135deg,var(--accent-3),var(--accent-2),transparent 60%);
  -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
  -webkit-mask-composite:xor; mask-composite:exclude; pointer-events:none;
}
.job-card:hover{ transform:translateY(-2px); box-shadow:0 12px 32px rgba(2,6,23,.18); }
.job-head{ display:flex; flex-direction:column; align-items:flex-start; gap:6px; width:100%; }
.job-title{ font-weight:900; font-size:var(--step-2); margin:0; color:var(--text); letter-spacing:.005em; line-height:1.25; }
.job-meta{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; font-size:var(--step--1); color:var(--muted); }
.job-meta .badge-mini{ padding:4px 8px; border-radius:9999px; border:1px solid var(--border); background:rgba(255,255,255,.04); }
.chip{ font-size:calc(var(--step--1) - .5px); font-weight:900; padding:6px 8px; border-radius:9999px; border:1px solid var(--border); }
.chip.ok{ background:rgba(16,185,129,.1); color:#047857; border-color:rgba(16,185,129,.25); }
.chip.mini{ padding:4px 8px; font-size:calc(var(--step--1) - .5px); }
.job-line{
  font-size:var(--step-0); color:var(--muted); margin:6px 0 4px;
  -webkit-line-clamp:3; display:-webkit-box; -webkit-box-orient:vertical; overflow:hidden; line-height:1.65; text-wrap:pretty;
}
.job-tags{ display:flex; flex-wrap:wrap; gap:6px; margin:6px 0 2px; }
.job-tags .pill{ font-size:var(--step--1); padding:4px 8px; }
.job-footer{ margin-top:auto; display:flex; justify-content:space-between; align-items:center; gap:8px; }
.job-btn{
  display:inline-flex; align-items:center; justify-content:center; gap:6px;
  font-weight:900; font-size:var(--step--1); padding:8px 10px; border-radius:10px;
  border:1px solid var(--border); background:rgba(255,255,255,.04); color:var(--text);
  text-decoration:none; min-height:36px;
}
.job-btn.brand{ background:linear-gradient(180deg,var(--accent-2),var(--accent)); color:#0b1020; border-color:transparent; }
.job-aux{ display:flex; gap:6px; align-items:center; justify-content:flex-end; }

/* ---------- Accessibility / Wrapping ---------- */
*, .job-line, .job-title, .helper, .badge, .pill, .chip{
  word-break:break-word; overflow-wrap:anywhere;
}
:focus-visible{ outline:2px solid rgba(242,110,140,.65); outline-offset:2px; border-radius:8px; }

/* ---------- Mobile tweaks ---------- */
button,.file-btn,.buy-btn,.job-btn,.tip .tip-btn{ min-height:var(--tap); min-width:var(--tap); }

/* Avoid input zoom on iOS */
@media (max-width:480px){
  select,button,input,textarea{ font-size:16px; }
}

/* Main mobile layout (â‰¤640px) */
@media (max-width:640px){
  .container{ padding:16px clamp(12px,4vw,16px); }
  .badges{ gap:6px; justify-content:flex-start; }
  .card{ padding:14px; }
  .card-title{ font-size:var(--step-2); }
  .card-title::after{ width:40%; }
  .upload-row{ flex-direction:column; align-items:stretch; gap:8px; }
  .file-pill{ width:100%; justify-content:space-between; }
  .dropzone{ width:100%; min-height:var(--tap); }
  .actions{ flex-direction:column; align-items:stretch; }
  .actions .spacer{ display:none; }
  .btn-primary{ width:100%; }
  .pricing-buttons{ display:grid; grid-template-columns:repeat(3,1fr); gap:6px; width:100%; }
  .kpi-grid{ grid-template-columns:1fr; }
  .metrics{ grid-template-columns:repeat(2,1fr); }
  .jobs{ grid-template-columns:1fr; }
  .job-title{ font-size:var(--step-1); }
  .job-footer{ flex-direction:column; align-items:stretch; gap:8px; }

  /* Pinned logo stays visible but non-blocking */
  .pinned-logo{
    position:fixed;
    top:max(10px, env(safe-area-inset-top));
    left:max(10px, env(safe-area-inset-left));
    z-index:1000;
  }
  .pinned-logo .logo{ width:84px; border-radius:10px; }

  /* Keep content clear of logo */
  .topbar{
    padding-left:96px;
    margin-top:0;
    padding-bottom:8px;
  }

  /* Tighten score visuals */
  .score-block{ gap:10px; }
  .donut{ width:56px; height:56px; }
  .donut .center{ font-size:var(--step-1); }
}

/* Very small devices */
@media (max-width:360px){
  .card{ padding:12px; }
  .job-title{ font-size:var(--step-0); }
  .file-pill span,#fileLabel{ font-size:var(--step--1); }
}

/* Prevent accidental horizontal scroll anywhere */
html,body,.container{ overflow-x:hidden; }
